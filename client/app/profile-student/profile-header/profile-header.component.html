<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">

<div class="jumbotron">


    <div class="container">
        <div class="col-md-12 text-center">
            <h1 class="display-4 text-center" style="margin-top:4%">
                <textarea id="editName" *ngIf="editMode" [(ngModel)]="student.name" placeholder="Write your name" rows="1" (keyup.enter)="save()"></textarea>    
                <p *ngIf="!editMode">{{student.name}}</p>
            </h1>

            <h3>
                <textarea id="editText" *ngIf="editMode" [(ngModel)]="student.degree" placeholder="Select your major" rows="1" (keyup.enter)="save()"></textarea>
                <p  *ngIf="!editMode">{{student.degree}}</p>
            </h3>

            <div>
                <textarea id="editText" *ngIf="editMode" [(ngModel)]="student.gradYear" placeholder="Select your year of graduation" rows="1" (keyup.enter)="save()"></textarea>
                <p translate *ngIf="!editMode">Graduation year: {{student.gradYear}}</p>
            </div>

            <div class="row" style="float : right">
                <button translate class="btn btn-sm btn-primary" *ngIf="!editMode" (click)="editMode = true"><i class="fa fa-pencil"></i> Edit</button>
                <button translate class="btn btn-sm btn-primary" *ngIf="editMode" (click)="save(student)"><i class="fa fa-floppy-o"></i> Save</button>
            </div>

        <div id="divprofile" class="mx-auto">
            <img id="profilepic" class="rounded-circle" [src]="im">
            <div class="file-upload">
                <div class="file-upload" *ngIf="editMode">
                    <br>
                    <button (click)="add()">Upload</button>
                    <input id="custom-input" type="file" (change)="fileChangeListener($event)">
                </div>
            </div>
        </div><br>

        <div class="text-center">
            <label class="custom-control custom-checkbox">
                <input [checked]="cvChecked" class="custom-control-input" type="checkbox" [(ngModel)]="check" (change)= "changeChecked($event, student)"/>
                <span id="checkboxCV" class="custom-control-indicator"></span>
                <span translate class="custom-control-description">CVcheck</span>
            </label>
        </div>

        <p-fileUpload *ngIf="cvChecked" name="cv" customUpload="true"  (uploadHandler)="myUploader($event)"></p-fileUpload>

        <br><br>

        <div *ngIf="cvChecked">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Download CV</th>
                        <th>Remove CV</th>
                    </tr>
                </thead>
                <tr *ngFor="let cv of cvs">
                    <td><p style="float: left"> {{cv.customName}}  </p> </td>
                    <td><p style="float: left"><button (click)="downloadCv(cv)" class="btn btn-sm btn-primary"><i class="fa fa-download" aria-hidden="true"></i> Download</button></p> </td>
                    <td><p style="float: left"><button (click)="removeCv(cv)" class="btn btn-sm btn-danger"><i class="fa fa-trash"></i> Remove</button></p> </td>
                </tr>
            </table>
        </div>



        <div *ngIf="!editMode" class="text-center">
            <a *ngIf="student.socialMediaChecked[0]" [href]="student.socialMedia[0]" class="btn-facebook" target="_blank">Facebook</a>
            <a *ngIf="student.socialMediaChecked[1]" [href]="student.socialMedia[1]" class="btn-twitter" target="_blank">Twitter</a>
            <a *ngIf="student.socialMediaChecked[2]" [href]="student.socialMedia[2]" class="btn-google-plus" target="_blank">Google+</a>
            <a *ngIf="student.socialMediaChecked[3]" [href]="student.socialMedia[3]" class="btn-linkedin" target="_blank">LinkedIn</a>
        </div>

        <div *ngIf="editMode" class="text-center">
            <div>
                <label class="custom-control custom-checkbox">
                    <input [checked]="student.socialMediaChecked[0]" class="custom-control-input" type="checkbox" (change)= "changeSocialMediaChecked($event, student, 0)"/>
                    <span class="custom-control-indicator"></span>
                </label>
                <a href="#" class="btn-facebook">Facebook</a>
                <input [(ngModel)]="student.socialMedia[0]" placeholder="Link your Facebook page">
            </div>
            <div>
                <label class="custom-control custom-checkbox">
                    <input [checked]="student.socialMediaChecked[1]" class="custom-control-input" type="checkbox" (change)= "changeSocialMediaChecked($event, student, 1)"/>
                    <span class="custom-control-indicator"></span>
                </label>
                <a href="#" class="btn-twitter">Twitter</a>
                <input [(ngModel)]="student.socialMedia[1]" placeholder="Link your Twitter page">
            </div>
            <div>
                <label class="custom-control custom-checkbox">
                    <input [checked]="student.socialMediaChecked[2]" class="custom-control-input" type="checkbox" (change)= "changeSocialMediaChecked($event, student, 2)"/>
                    <span class="custom-control-indicator"></span>
                </label>
                <a href="#" class="btn-google-plus">Google+</a>
                <input [(ngModel)]="student.socialMedia[2]" placeholder="Link your Google+ page">
            </div>
            <div>
                <label class="custom-control custom-checkbox">
                    <input [checked]="student.socialMediaChecked[3]" class="custom-control-input" type="checkbox" (change)= "changeSocialMediaChecked($event, student, 3)"/>
                    <span class="custom-control-indicator"></span>
                </label>
                <a href="#" class="btn-linkedin">LinkedIn</a>
                <input [(ngModel)]="student.socialMedia[3]" placeholder="Link your LinkedIn page">
            </div>
        </div>
    </div>
</div>

</div>
